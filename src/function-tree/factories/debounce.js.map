{"version":3,"sources":["../../src/factories/debounce.js"],"names":["debounceFactory","createDebounce","time","timer","currentResolver","debounce","path","Promise","resolve","discarded","setTimeout","accepted","displayName","continueBranch"],"mappings":";;;;;kBAwBwBA,e;AAxBxB,SAASC,cAAT,CAAyBC,IAAzB,EAA+B;AAC7B,MAAIC,cAAJ;AACA,MAAIC,wBAAJ;;AAEA,WAASC,QAAT,OAA2B;AAAA,QAAPC,IAAO,QAAPA,IAAO;;AACzB,WAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmB;AACpC,UAAIL,KAAJ,EAAW;AACTC,wBAAgBE,KAAKG,SAAL,EAAhB;AACAL,0BAAkBI,OAAlB;AACD,OAHD,MAGO;AACLL,gBAAQO,WAAW,YAAY;AAC7BN,0BAAgBE,KAAKK,QAAL,EAAhB;AACAR,kBAAQ,IAAR;AACAC,4BAAkB,IAAlB;AACD,SAJO,EAILF,IAJK,CAAR;AAKAE,0BAAkBI,OAAlB;AACD;AACF,KAZM,CAAP;AAaD;AACDH,WAASO,WAAT,GAAuB,gBAAgBV,IAAhB,GAAuB,IAA9C;;AAEA,SAAOG,QAAP;AACD;;AAEc,SAASL,eAAT,CAA0BE,IAA1B,EAAgCW,cAAhC,EAAgD;AAC7D,SAAO,CACLZ,eAAeC,IAAf,CADK,EACiB;AACpBS,cAAUE,cADU;AAEpBJ,eAAW;AAFS,GADjB,CAAP;AAMD","file":"debounce.js","sourcesContent":["function createDebounce (time) {\n  let timer\n  let currentResolver\n\n  function debounce ({path}) {\n    return new Promise(function (resolve) {\n      if (timer) {\n        currentResolver(path.discarded())\n        currentResolver = resolve\n      } else {\n        timer = setTimeout(function () {\n          currentResolver(path.accepted())\n          timer = null\n          currentResolver = null\n        }, time)\n        currentResolver = resolve\n      }\n    })\n  }\n  debounce.displayName = 'debounce - ' + time + 'ms'\n\n  return debounce\n}\n\nexport default function debounceFactory (time, continueBranch) {\n  return [\n    createDebounce(time), {\n      accepted: continueBranch,\n      discarded: []\n    }\n  ]\n}\n"]}